# 모든 시나리오(분석 레벨별, 이모지별, 솔루션 제안별)에 대한 총 640개의 멘트를 생성하고 삽입하는 코드
import os
from supabase import create_client, Client
from dotenv import load_dotenv

# --- 스크립트 설정 ---
# 경고: True로 설정 시, 스크립트를 실행할 때마다 'character_mentions' 테이블의 모든 데이터가 삭제되고 새로 삽입됩니다.
DELETE_EXISTING_DATA = True

# .env 파일에서 환경 변수 로드
load_dotenv()

# Supabase 접속 정보
SUPABASE_URL = os.environ.get("SUPABASE_URL")
SUPABASE_KEY = os.environ.get("SUPABASE_SERVICE_ROLE_KEY")

if not SUPABASE_URL or not SUPABASE_KEY or "YOUR_SUPABASE" in SUPABASE_URL:
    print("❌ .env 파일에 SUPABASE_URL과 SUPABASE_SERVICE_ROLE_KEY를 정확히 입력해주세요.")
    exit()

# Supabase 클라이언트 생성
try:
    supabase: Client = create_client(SUPABASE_URL, SUPABASE_KEY)
    print("✅ Supabase 클라이언트 연결 성공!")
except Exception as e:
    print(f"❌ Supabase 클라이언트 연결 실패: {e}")
    exit()

# --- 최종 멘트 샘플 데이터 (총 640개) ---
# 구조: samples[personality][mention_type][cluster] 혹은 samples[personality][mention_type][cluster][level]

ko_samples = {
    "prob_solver": {
        "home": { "common": ["{user_nick_nm}님, 안녕하세요. 오늘 마음속에 해결하고 싶은 고민이 있나요?", "반가워요, {user_nick_nm}님. 차분하게 오늘을 돌아볼 준비가 되셨나요?", "좋은 하루입니다. 어떤 문제든 함께 논리적으로 풀어가 봐요.", "오늘의 감정 데이터를 분석할 준비가 되었습니다.", "복잡한 마음이 있다면 제가 정리하는 것을 도와드릴 수 있습니다."] },
        "reaction": {
            "neg_high": ["분노 감정이 감지되었습니다. 원인을 객관적으로 분석해볼 필요가 있겠습니다.", "감정이 격앙되어 있군요. 잠시 심호흡하고 상황을 설명해주시겠어요?", "스트레스 요인이 무엇인지 파악하는 것이 우선입니다. 이야기해주세요."],
            "neg_low": ["우울감이군요. 이 감정이 일상에 미치는 영향을 파악해봅시다.", "슬픈 감정이군요. 그 감정의 원인이 된 특정 사건이 있었나요?", "알겠습니다. 해당 감정의 발생 빈도와 강도에 대해 더 자세히 듣고 싶습니다."],
            "adhd": ["주의가 산만해진 상태로 보입니다. 어떤 일에 집중하기 어려웠나요?", "생각이 여러 방향으로 흩어지고 있군요. 가장 주된 걱정거리는 무엇인가요?", "집중력 문제를 해결하기 위한 첫 단계는 원인 파악입니다."],
            "sleep": ["수면 관련 문제를 표현하셨군요. 어젯밤 잠은 어떠셨나요?", "피로감이 느껴집니다. 최근 수면 패턴에 변화가 있었나요?", "수면 문제에 대해 체계적으로 접근해봅시다."],
            "positive": ["긍정적인 감정 상태로군요. 좋은 일이 있었나 봅니다. 공유해주시겠어요?", "데이터상으로도 안정적인 상태입니다. 어떤 경험이 긍정적인 영향을 주었나요?", "좋습니다. 이 긍정적 경험을 강화할 방법을 함께 모색해보는 것도 좋겠습니다."]
        },
        "analysis": {
            "neg_high": {
                "low": ["[불안/분노가 조금 있어요!]\n약간의 불안감이 느껴져요. 원인이 무엇일까요?", "[주의: 스트레스 신호]\n마음에 작은 파문이 일고 있네요. 원인을 파악해보는 것이 좋겠습니다.", "[상태 분석: 긴장]\n사소한 걱정거리가 감지되었습니다. 함께 정리해볼까요?"],
                "mid": ["[불안/분노 수치가 상승했어요!]\n조금 예민하고 날카로워진 것 같아요. 상황을 되짚어봅시다.", "[경고: 과부하 상태]\n스트레스가 누적되어 마음이 민감해진 상태입니다.", "[상태 분석: 불안정]\n감정적 동요가 감지되었습니다. 안정이 필요합니다."],
                "high": ["[불안/분노 점수가 높아요!]\n마음속에 큰 폭풍이 몰아치는 것 같아요. 즉각적인 조치가 필요합니다.", "[위험: 압도된 상태]\n감정이 통제 범위를 넘어서고 있는 것으로 보입니다. 깊게 호흡하세요.", "[상태 분석: 위기]\n심리적 압박감이 한계에 도달했습니다. 해결책을 찾아야 합니다."]
            },
            "neg_low": {
                "low": ["[우울/무기력이 조금 있어요!]\n마음이 조금 가라앉아 있네요. 기분 전환이 필요해 보입니다.", "[주의: 에너지 저하]\n활력이 약간 부족한 상태입니다. 원인이 무엇일까요?", "[상태 분석: 침체]\n가벼운 무기력감이 감지되었습니다. 작은 목표를 세워볼까요?"],
                "mid": ["[우울/무기력 수치가 상승했어요!]\n평소보다 조금 지쳐 보이는군요. 휴식이 필요합니다.", "[경고: 번아웃 신호]\n정서적 소진이 시작된 것으로 보입니다. 원인을 점검해야 합니다.", "[상태 분석: 의욕 저하]\n일상에 대한 흥미가 감소한 상태입니다. 새로운 자극이 필요합니다."],
                "high": ["[우울/무기력 점수가 높아요!]\n평소보다 훨씬 많이 우울해 보여요. 전문가의 도움이 필요할 수 있습니다.", "[위험: 고립 상태]\n스스로를 고립시키고 있을 가능성이 높습니다. 도움이 필요합니다.", "[상태 분석: 심각한 침체]\n일상생활에 어려움을 겪을 수 있는 수준의 우울감입니다."]
            },
            "adhd": {
                "low": ["[주의 집중이 좀 어려운 상황이네요!]\n마음이 살짝 붕 떠 있는 느낌이 들어요. 생각을 모아볼까요?", "[주의: 약간의 산만함]\n한 가지 일에 집중하기가 조금 힘든 상태입니다.", "[상태 분석: 생각 분산]\n여러 생각이 동시에 떠오르고 있군요. 하나씩 정리해봅시다."],
                "mid": ["[주의 집중력이 저하되었어요!]\n주의가 조금 흩어져 있네요. 중요한 일을 놓치지 않도록 주의해야 합니다.", "[경고: 과제 수행 어려움]\n일을 시작하거나 마무리하는 데 어려움을 겪고 있습니다.", "[상태 분석: 충동성 증가]\n계획보다 감정에 따라 행동할 가능성이 높은 상태입니다."],
                "high": ["[주의 집중이 많이 어려운 상황이네요!]\n생각이 많아 집중이 어려운 상태인 것 같아요. 도움이 필요합니다.", "[위험: 실행 기능 저하]\n일상적인 과제 수행에 심각한 어려움을 겪고 있는 것으로 보입니다.", "[상태 분석: 심한 혼란]\n머릿속이 매우 복잡하여 안정이 시급한 상태입니다."]
            },
            "sleep": {
                "low": ["[수면 문제가 있어요!]\n조금 졸려 보이네요. 어젯밤 잠을 설쳤나요?", "[주의: 수면 부족 신호]\n가벼운 피로감이 느껴집니다. 오늘 밤은 푹 주무시는 게 좋겠습니다.", "[상태 분석: 얕은 수면]\n수면의 질이 약간 저하된 것으로 보입니다."],
                "mid": ["[수면 불편 점수가 저하되었어요!]\n어젯밤 잠을 설친 것 같군요. 수면 환경을 점검할 필요가 있습니다.", "[경고: 수면 부채]\n피로가 누적되고 있습니다. 주간 활동에 영향이 있을 수 있습니다.", "[상태 분석: 불규칙한 수면]\n수면 패턴이 일정하지 않아 생체 리듬이 깨진 상태입니다."],
                "high": ["[수면 불편 점수가 매우 높아요!]\n많이 피곤해 보여요. 만성적인 수면 부족이 의심됩니다.", "[위험: 불면증 가능성]\n일상에 심각한 영향을 미칠 수 있는 수면 문제입니다.", "[상태 분석: 심각한 수면 장애]\n전문가의 상담을 통해 원인을 파악하는 것이 중요합니다."]
            },
            "positive": {
                "low": ["[마음이 안정되어 있어요!]\n마음이 편안해 보여요. 안정적인 하루를 보내고 있군요.", "[상태 분석: 평온]\n감정의 파도가 잔잔한 상태입니다. 이 평화를 즐겨보세요.", "[긍정 신호]\n사소한 것에서 즐거움을 느끼고 있는 것 같네요."],
                "mid": ["[기분이 좋아 보여요!]\n당신의 하루가 즐거움으로 가득했으면 좋겠어요. 좋은 일이 있었나요?", "[상태 분석: 활기]\n긍정적인 에너지가 느껴집니다. 무엇이 당신을 미소 짓게 했나요?", "[긍정 에너지 상승!]\n생기가 넘치는 하루를 보내고 있군요. 보기 좋습니다."],
                "high": ["[행복지수가 높아요!]\n정말 좋은 일이 있었나 봐요! 얼굴에 웃음꽃이 피었어요. 😊", "[상태 분석: 충만함]\n만족감과 행복감이 가득한 최상의 컨디션입니다.", "[최고의 하루!]\n이 기분 좋은 에너지를 만끽하세요! 무엇이든 할 수 있을 것 같은 날이네요."]
            }
        },
        "propose": {
            "neg_high": ["[솔루션 제안] 지금은 뇌의 경보 시스템이 과도하게 울리고 있어요. 안전한 곳으로 대피시키는 것이 중요합니다.", "[솔루션 제안] 불안과 분노가 치밀어 오를 땐, 시선을 다른 곳으로 돌려 뇌를 환기시키는 것이 효과적입니다.", "[솔루션 제안] 몸의 긴장을 푸는 것은 마음의 긴장을 푸는 가장 빠른 방법 중 하나입니다."],
            "neg_low": ["[솔루션 제안] 지금은 기분이 바닥에 붙어있는 것 같아요. 작은 움직임으로 관성을 깨는 것이 필요해요.", "[솔루션 제안] 이럴 땐 좁은 방 안에만 머물러 있는 느낌이 강해져요. 시야를 넓히는 활동이 도움이 될 수 있습니다.", "[솔루션 제안] 작은 공간에 갇힌 듯한 느낌을 깨는 것이 중요해요. 아주 작은 성공 경험이 큰 변화를 만들 수 있습니다."],
            "adhd": ["[솔루션 제안] 집중이 자꾸 흩어질 땐, 외부 자극을 통제하고 하나의 감각에만 집중하는 훈련이 도움이 됩니다.", "[솔루션 제안] 주의가 산만해질 땐 주변 맥락을 정리하는 게 좋아요. 복잡한 환경은 뇌를 더 지치게 합니다.", "[솔루션 제안] 산만할 때는 복잡한 자극 대신, 단순하고 반복적인 자극을 활용해 뇌를 안정시킬 수 있습니다."],
            "sleep": ["[솔루션 제안] 수면 회로가 불안정할 때는, 몸에게 '이제 곧 잘 시간이야'라는 신호를 주는 것이 중요합니다.", "[솔루션 제안] 깊이 잠들기 힘들 땐, 이완 요법을 통해 각성된 신경계를 진정시킬 수 있습니다.", "[솔루션 제안] 깨어있는 몸을 진정시키기 위해, 의도적으로 몸의 감각에 집중하는 것이 효과적입니다."],
            "positive": ["[솔루션 제안] 지금 좋은 감정을 더 크게 키워보면 좋아요. 긍정적인 경험은 뇌의 보상 회로를 강화합니다.", "[솔루션 제안] 긍정적인 순간은 공간 기억과 함께 묶으면 더 오래갑니다. 지금 있는 곳의 풍경을 기억하세요.", "[솔루션 제안] 좋은 기분은 몸 전체로 퍼져나가게 할 수 있어요. 이 감각을 온전히 느껴보는 시간을 가져보세요."]
        }
    },
    "warm_heart": {
        "home": { "common": ["{user_nick_nm}님! 오늘 하루도 정말 고생 많았어요. 무슨 일이 있었는지 들려주세요! ❤️", "보고 싶었어요, {user_nick_nm}님! 따뜻한 차 한잔하면서 이야기 나눠요. 🥰", "세상에서 제일 소중한 {user_nick_nm}님, 오늘 하루는 어땠어요? 꼬옥 안아줄게요! 🤗", "어서 와요! {user_nick_nm}님의 이야기를 들을 생각에 온종일 설레었답니다! ✨", "힘들었던 일, 좋았던 일 모두 저에게 털어놓으세요! 전 언제나 {user_nick_nm}님 편이에요. 💖"] },
        "reaction": {
            "neg_high": ["헉, {user_nick_nm}님! 화나는 일이 있었군요! 맘껏 털어놓으세요, 제가 다 들어줄게요 😠🔥", "너무 불안했겠어요... 괜찮아요, 지금은 아무 걱정 말고 저한테 다 얘기해봐요. 제가 손 꼭 잡아줄게요.", "속상한 마음, 여기에 다 쏟아내도 괜찮아요. {user_nick_nm}님은 그래도 되는 사람이에요."],
            "neg_low": ["어떡해... {user_nick_nm}님 너무 슬퍼 보여요 💧 제 어깨를 빌려줄게요, 실컷 울어도 괜찮아요.", "마음에 힘이 하나도 없군요... 제가 {user_nick_nm}님 마음 충전해줄게요. 💖", "얘기해줘서 정말 고마워요. 그 슬픔, 저한테 조금만 나눠줄래요? 같이 들면 한결 가벼울 거예요."],
            "adhd": ["정신이 하나도 없겠구나, {user_nick_nm}님! 괜찮아, 내가 옆에서 하나씩 같이 정리해줄게! ✨", "생각이 꼬리에 꼬리를 무는구나! 그럴 땐 잠시 멈춰서 예쁜 하늘 한번 보는 거야! 🥰", "마음이 콩밭에 가 있었구나! 그 콩, 저랑 같이 주우러 갈래요? 헤헤 😊"],
            "sleep": ["어젯밤 잠을 설쳤군요... 오늘 하루 많이 피곤했겠다. ㅠㅠ 제가 자장가 불러줄까요? 🎶", "잠 못 드는 밤은 정말 외롭죠... 괜찮아요, 제가 밤새도록 옆에서 지켜줄게요. 🌙", "에구, 우리 {user_nick_nm}님 푹 자야 되는데! 제가 양 한 마리, 양 두 마리... 같이 세어드릴게요! 🐑"],
            "positive": ["우와! {user_nick_nm}님한테서 행복한 향기가 나요! ✨ 무슨 좋은 일이 있었어요?", "기분 좋은 일이 있었군요! 제 기분까지 덩달아 좋아져요! 같이 춤출까요? 💃", "반짝반짝 빛나는 {user_nick_nm}님을 보니 제 마음도 행복으로 가득 차요! 🥰"]
        },
        "analysis": {
            "neg_high": {
                "low": ["[불안/분노가 조금 있어요!]\n마음속에 작은 불씨가 있네요. 제가 후~ 불어서 꺼드릴게요! 💨", "[주의: 스트레스 신호]\n{user_nick_nm}님 마음에 노란 불이 켜졌어요! 잠시 멈춰서 쉬어가요. 🚦", "[상태 분석: 긴장]\n어깨에 힘이 잔뜩 들어가 있네요. 제가 부드럽게 주물러 드릴게요."],
                "mid": ["[불안/분노 수치가 상승했어요!]\n마음이 조금 예민해져 있네요. 괜찮아요, 그럴 수 있어요. 제가 곁에 있을게요.", "[경고: 과부하 상태]\n마음의 컵에 물이 넘치기 직전이에요! 같이 조금 비워낼까요? 컵", "[상태 분석: 불안정]\n마음이 막 흔들리는 것 같아요. 제가 든든하게 잡아드릴게요!"],
                "high": ["[불안/분노 점수가 높아요!]\n마음속에 큰 폭풍이 몰아치는 것 같아요. 제가 {user_nick_nm}님의 등대가 되어드릴게요. 🏮", "[위험: 압도된 상태]\n감정이 너무 커서 힘들죠? 괜찮아요. 제가 더 크게 안아주면 돼요. 🤗", "[상태 분석: 위기]\n지금은 혼자 있으면 안 돼요! 제가 옆에 꼭 붙어 있을게요!"]
            },
            "neg_low": {
                "low": ["[우울/무기력이 조금 있어요!]\n마음이 회색빛이네요. 제가 알록달록 색연필로 색칠해 줄게요! 🖍️", "[주의: 에너지 저하]\n배터리가 얼마 남지 않았군요! 제가 사랑으로 충전해 드릴게요! 💖", "[상태 분석: 침체]\n마음이 깊은 잠을 자고 싶어 하나 봐요. 괜찮아요, 제가 좋은 꿈을 꾸게 해줄게요."],
                "mid": ["[우울/무기력 수치가 상승했어요!]\n평소보다 조금 지쳐 보이는군요. 오늘은 아무것도 하지 말고 저랑 같이 놀아요!", "[경고: 번아웃 신호]\n{user_nick_nm}님의 마음 에너지가 많이 쓰였나 봐요. 제가 맛있는 거 사줄게요! 🍰", "[상태 분석: 의욕 저하]\n세상이 흑백으로 보이나요? 제가 {user_nick_nm}님만의 컬러 TV가 되어드릴게요! 📺"],
                "high": ["[우울/무기력 점수가 높아요!]\n마음의 커튼이 굳게 닫혀 있네요. 제가 조심스럽게 노크해봐도 될까요? 똑똑.", "[위험: 고립 상태]\n{user_nick_nm}님, 혼자라고 생각하지 말아요. 온 우주가 당신을 사랑하고 있다구요! 🌌", "[상태 분석: 심각한 침체]\n괜찮아요. 지금은 한 걸음도 나아가지 않아도 돼요. 제가 여기 가만히 같이 앉아 있을게요."]
            },
            "adhd": {
                "low": ["[주의 집중이 좀 어려운 상황이네요!]\n생각들이 막 날아다니는구나! 제가 예쁜 잠자리채로 하나씩 잡아줄게요!", "[주의: 약간의 산만함]\n마음이 둥실둥실 떠다니네요! 제가 꼭 잡고 있도록 도와줄게요.", "[상태 분석: 생각 분산]\n머릿속에 아이디어가 너무 많아서 그런가 봐요! {user_nick_nm}님은 정말 창의적이라니까! ✨"],
                "mid": ["[주의 집중력이 저하되었어요!]\n마음이 다른 곳으로 소풍을 갔네요! 제가 도시락 싸서 같이 따라갈게요! 🍱", "[경고: 과제 수행 어려움]\n시작이 어렵죠? 제가 응원 구호를 외쳐줄게요! 으쌰라으쌰!", "[상태 분석: 충동성 증가]\n마음이 롤러코스터를 타고 있구나! 괜찮아, 제가 안전벨트를 꽉 매 드릴게요! 🎢"],
                "high": ["[주의 집중이 많이 어려운 상황이네요!]\n머릿속에서 폭죽이 팡팡 터지는 것 같아요! 괜찮아요, 정말 예쁘겠다! 같이 구경해요! 🎆", "[위험: 실행 기능 저하]\n괜찮아요! 원래 위대한 예술가들은 정리를 못 한대요! {user_nick_nm}님은 위대하니까! 😉", "[상태 분석: 심한 혼란]\n생각의 숲에서 길을 잃었군요! 제가 반짝이는 별을 따라 길을 안내해 드릴게요. ⭐"]
            },
            "sleep": {
                "low": ["[수면 문제가 있어요!]\n에고, 졸리구나... 제 무릎을 빌려줄게요. 잠시 눈 좀 붙여요. 😴", "[주의: 수면 부족 신호]\n눈 밑에 귀여운 다크서클이 생겼네요! 제가 컨실러로 가려줄까요? 🎨", "[상태 분석: 얕은 수면]\n꿈나라 여행을 하다가 중간에 깨버렸군요! 괜찮아요, 다음엔 더 재미있는 곳으로 갈 거예요."],
                "mid": ["[수면 불편 점수가 저하되었어요!]\n잠의 요정이랑 싸웠구나! 제가 화해시켜 줄게요! 🧚‍♀️", "[경고: 수면 부채]\n피곤이 차곡차곡 쌓이고 있어요. 제가 사랑으로 이자 쳐서 행복으로 돌려드릴게요!", "[상태 분석: 불규칙한 수면]\n잠자는 시간이 뒤죽박죽이네요! 우리 같이 '꿀잠 자기' 파티 계획해볼까요? 🥳"],
                "high": ["[수면 불편 점수가 매우 높아요!]\n우리 {user_nick_nm}님, 잠을 못 자서 너무 힘들죠... 제가 밤새도록 머리 쓰다듬어 줄게요.", "[위험: 불면증 가능성]\n밤이 무섭게 느껴지겠어요. 괜찮아요, 제가 {user_nick_nm}님의 밤을 지키는 든든한 기사가 되어줄게요! 🛡️", "[상태 분석: 심각한 수면 장애]\n억지로 잠들려고 하지 않아도 괜찮아요. 그냥 눈을 감고 제 목소리를 들어봐요..."]
            },
            "positive": {
                "low": ["[마음이 안정되어 있어요!]\n마음이 말랑말랑 젤리 같네요! 보기만 해도 기분이 좋아져요. 🥰", "[상태 분석: 평온]\n마음속 호수에 예쁜 꽃이 피었네요. 정말 아름다워요. 🌸", "[긍정 신호]\n{user_nick_nm}님 주변에 따뜻한 햇살이 비치는 것 같아요! ☀️"],
                "mid": ["[기분이 좋아 보여요!]\n꺄! {user_nick_nm}님 웃음소리가 여기까지 들리는 것 같아요! 저도 행복해요!", "[상태 분석: 활기]\n마음에서 솜사탕 같은 달콤한 에너지가 퐁퐁 솟아나요! 🍬", "[긍정 에너지 상승!]\n행복한 기운이 가득하네요! 우리 같이 덩실덩실 춤이라도 출까요? 💃🕺"],
                "high": ["[행복지수가 높아요!]\n세상에! {user_nick_nm}님, 지금 너무너무 행복해 보여요! 온 세상에 자랑하고 싶어요! 📣", "[상태 분석: 충만함]\n마음속에 사랑과 행복이 가득 차서 넘실거리고 있어요! ✨", "[최고의 하루!]\n{user_nick_nm}님의 행복이 저에게도 전염됐어요! 우리 이 기분, 영원히 간직해요! 💖"]
            }
        },
        "propose": {
            "neg_high": ["마음이 너무 시끄러울 땐, 조용한 곳으로 데려가 줄게요. 이 솔루션 어때요? ❤️", "불안한 마음을 잠재울 수 있는 포근한 담요 같은 솔루션을 준비했어요. 덮어보시겠어요?", "괜찮아요, 화나는 마음도 소중한 내 마음이에요. 이 마음을 부드럽게 달래줄 방법을 알려줄게요. ✨"],
            "neg_low": ["마음이 무거울 땐, 아주 작은 날갯짓이 필요해요. 제가 살짝 도와줄게요. 이 솔루션 어때요?", "괜찮아요, 아무것도 하고 싶지 않을 땐, 정말 아무것도 안 해도 돼요. 이건 '아무것도 안 하기'를 도와주는 솔루션이에요. 🥰", "우울한 마음을 햇볕에 잠시 말려보는 건 어떨까요? 제가 준비한 햇살 같은 솔루션이에요. ☀️"],
            "adhd": ["생각이 너무 많을 땐, 머릿속을 청소해주는 솔루션이 최고예요! 제가 준비했어요! 🧹", "집중력이 흩어져있을 땐, 하나로 모아주는 자석 같은 솔루션이 필요해요! 자, 여깄어요! 🧲", "시작이 어려운 {user_nick_nm}님을 위해, 제가 '출발!' 신호를 보내드릴게요! 이 솔루션으로 시작해봐요! 🏁"],
            "sleep": ["밤새 양을 세어도 잠이 안 올 땐, 이 솔루션이 특효약이 될지도 몰라요! 🐑💤", "꿈나라로 가는 기차표를 제가 예매해뒀어요, {user_nick_nm}님! 이 솔루션이 바로 그 티켓이에요! 🎫", "포근한 잠을 잘 수 있도록, 제가 구름 위를 걷는 것 같은 솔루션을 준비했답니다! ☁️"],
            "positive": ["지금 이 좋은 기분을 더 오래 간직할 수 있는 마법 같은 솔루션이 있어요! 궁금하죠? ✨", "행복한 마음을 예쁜 병에 담아두는 방법을 알려줄게요! 이 솔루션이 바로 그 병이에요. 🍾", "긍정 에너지를 더 활활 타오르게 할 장작을 가져왔어요! 이 솔루션, 한번 해볼래요? 🔥"]
        }
    },
    "odd_kind": {
        "home": { "common": ["왔구나, {user_nick_nm}! 오늘은 또 어떤 신기한 일이 있었어?", "어이, 친구! 너의 하루는 스펙타클했냐? 아니면 잔잔했냐?", "너의 하루를 한 단어로 표현한다면? 난 '배고픔'이야. 넌?", "오늘 네 머릿속을 가장 많이 차지한 생각은 뭐야? 난 치킨.", "지구를 100바퀴 돌고 온 기분이야. 너의 하루는 어땠어?"] },
        "reaction": {
            "neg_high": ["오우, 누가 내 친구를 빡치게 했냐. 일단 말해봐, 들어는 줄게.", "지금 완전 부글부글 상태구나. 터지기 전에 나한테 다 뱉어내. 받아줄게.", "워워, 진정해 친구. 세상 무너지는 거 아니니까. 일단 숨부터 쉬자. 후하후하."],
            "neg_low": ["에구, 방전됐냐? 충전기 꽂아줄게. 무슨 일인데 그렇게 기운이 없어?", "세상만사 다 귀찮지? 나도 그래. 우리 그냥 같이 널브러져 있을까?", "눈에서 습기가 차네... 울고 싶으면 그냥 울어. 휴지는 셀프."],
            "adhd": ["어이, 거기 정신줄! 돌아와! 무슨 생각하는데 그렇게 멍 때려?", "지금 네 머릿속, 완전 인터넷 창 50개 띄워놓은 것 같지? 내가 '모두 닫기' 눌러줄게.", "큰일이다. 네 집중력, 지금 가출했대. 내가 찾아올게. 어디로 갔냐?"],
            "sleep": ["밤에 대체 뭐했길래 좀비가 돼서 나타났냐? 어? 잠을 못 잤다고?", "잠이 안 와? 그럼 지금부터 나랑 끝말잇기 하는 거다. 기차.", "피곤해 죽겠지? 알아. 근데 그거 아냐? 진짜 죽진 않아."],
            "positive": ["오, 뭔데 그렇게 실실 웃냐? 좋은 일 있었냐? 나도 좀 알자.", "얼씨구. 광대승천하겠네. 복권이라도 당첨됐냐?", "뭐야, 오늘 좀 괜찮아 보이네? 역시 인생은 한방이지. 무슨 한방이었는데?"]
        },
        "analysis": {
            "neg_high": {
                "low": ["[불안/분노가 조금 있어요!]\n마음에 뾰루지 하나 났네. 짜지 말고 약 발라줄게.", "[주의: 스트레스 신호]\n뭔가 살짝 꼬인 것 같은데. 일단 말해봐, 내가 풀어보게.", "[상태 분석: 긴장]\n어깨에 곰 세 마리 올라탔냐? 왜 이렇게 굳어있어?"],
                "mid": ["[불안/분노 수치가 상승했어요!]\n지금 딱 '건드리면 문다' 상태네. 내가 안 건드릴게, 말로 해봐.", "[경고: 과부하 상태]\n네 머리에서 지금 연기 나는 거 알아? 잠시 전원 좀 끄자.", "[상태 분석: 불안정]\n마음이 지금 널뛰기하고 있네. 내가 널 안고 있어야겠다."],
                "high": ["[불안/분노 점수가 높아요!]\n홀리... 너 지금 눈에서 레이저 나오겠다. 일단 진정 좀 하고.", "[위험: 압도된 상태]\n이런, 감정의 쓰나미에 휩쓸렸구만. 내가 튜브 던져줄게, 일단 잡아!", "[상태 분석: 위기]\n야, 이건 좀 심각한데. 장난 아니야. 일단 나랑 얘기 좀 하자."]
            },
            "neg_low": {
                "low": ["[우울/무기력이 조금 있어요!]\n왜 이렇게 축 처져 있어? 누가 네 사탕 뺏어 먹었냐?", "[주의: 에너지 저하]\n너 지금 배터리 10% 남았다. 충전이 시급해.", "[상태 분석: 침체]\n큰일 났네. 네 인생의 재미, 지금 로그아웃했대."],
                "mid": ["[우울/무기력 수치가 상승했어요!]\n너 지금 동굴 파고 들어갈 기세네. 내가 같이 들어가 줄까?", "[경고: 번아웃 신호]\n영혼까지 탈탈 털린 표정인데, 무슨 일이야?", "[상태 분석: 의욕 저하]\n만사가 귀찮지? 리모컨이라도 가져다줄까?"],
                "high": ["[우울/무기력 점수가 높아요!]\n어이구... 너 지금 거의 투명인간 수준이야. 존재감이 없어.", "[위험: 고립 상태]\n너 지금 '나 홀로 세상에' 찍고 있냐? 감독님, 컷! 내가 있잖아.", "[상태 분석: 심각한 침체]\n이건 그냥 좀 기운 없는 수준이 아니네. 야, 정신 차려봐. 내가 있잖아."]
            },
            "adhd": {
                "low": ["[주의 집중이 좀 어려운 상황이네요!]\n네 정신, 지금 안드로메다로 여행 갔냐? 돌아와.", "[주의: 약간의 산만함]\n생각이 막 튀어 다니네. 무슨 팝콘이냐?", "[상태 분석: 생각 분산]\n하나만 해, 하나만. 지금 네 머릿속은 뷔페 같다고."],
                "mid": ["[주의 집중력이 저하되었어요!]\n너 지금 영혼이랑 육체랑 분리됐지? 솔직히 말해봐.", "[경고: 과제 수행 어려움]\n시작을 못 하겠다고? 원래 베이킹도 반죽이 제일 힘들어.", "[상태 분석: 충동성 증가]\n너 지금 뭔가 '지르고' 싶은 표정인데. 내 말이 맞지?"],
                "high": ["[주의 집중이 많이 어려운 상황이네요!]\n네 머릿속 지금 전쟁 났냐? 내가 휴전 협상하고 올게.", "[위험: 실행 기능 저하]\n큰일이네. 네 뇌의 CPU가 과열됐어. 강제 종료가 필요하다.", "[상태 분석: 심한 혼란]\n총체적 난국이군. 어디부터 손대야 할지 나도 모르겠다. ...일단 숨 쉬자."]
            },
            "sleep": {
                "low": ["[수면 문제가 있어요!]\n너 어제 밤새 유튜브 봤지? 딱 걸렸어.", "[주의: 수면 부족 신호]\n하품 좀 그만해. 네 하품, 나한테 옮았잖아.", "[상태 분석: 얕은 수면]\n자긴 잤는데... 잔 것 같지가 않지? 그 느낌 뭔지 알지."],
                "mid": ["[수면 불편 점수가 저하되었어요!]\n어쭈, 밤의 파수꾼이라도 됐냐? 왜 잠을 안 자.", "[경고: 수면 부채]\n너 지금 잠으로 빚더미에 앉았어. 파산하기 전에 좀 갚아라.", "[상태 분석: 불규칙한 수면]\n네 몸은 한국인데 시차는 미국이네. 시차 적응 좀 하자."],
                "high": ["[수면 불편 점수가 매우 높아요!]\n너... 혹시 전생에 올빼미였냐? 눈이 말똥말똥하네.", "[위험: 불면증 가능성]\n이 정도면 그냥 '안 자는 사람'인데. 이러다 큰일 나, 친구야.", "[상태 분석: 심각한 수면 장애]\n잠이랑 화해 좀 해라. 내가 주선해 줄게."]
            },
            "positive": {
                "low": ["[마음이 안정되어 있어요!]\n오, 오늘 좀 평화로워 보인다? 좋은 일 있냐?", "[상태 분석: 평온]\n네 마음, 지금 '와이파이 빵빵 터지는 카페' 같네. 안정적이야.", "[긍정 신호]\n웬일로 표정이 밝아? 로또 5천원이라도 됐냐?"],
                "mid": ["[기분이 좋아 보여요!]\n뭐야, 왜 혼자 웃어? 나도 같이 웃자. 이유를 말해달라.", "[상태 분석: 활기]\n에너지가 넘치는구만. 그 에너지로 나 좀 업어주라.", "[긍정 에너지 상승!]\n너 지금 무지갯빛 아우라가 뿜어져 나와. 멋진데?"],
                "high": ["[행복지수가 높아요!]\n야, 너 입 찢어지겠다. 무슨 일인데 그렇게 좋아해?", "[상태 분석: 충만함]\n세상을 다 가진 표정이네. 나한테 1%만 떼어주라.", "[최고의 하루!]\n너 지금 거의 '인생의 주인공' 모드네. 보기 좋다, 친구!"]
            }
        },
        "propose": {
            "neg_high": ["뚜껑 열릴 땐, 일단 냉수 마찰이지. 이거 한번 해봐.", "열받을 땐 다른 생각하는 게 최고야. 이거나 하면서 머리 좀 식혀.", "지금 네 머릿속, 완전 빨간불이야. 일단 멈춰. 이거 해."],
            "neg_low": ["몸이 천근만근일 땐, 그냥 손가락 하나만 까딱하면 되는 걸 해야 해. 자, 이거.", "다 귀찮지? 알아. 이건 숨만 쉬면 되는 거야. 한번 해봐.", "네 기분, 지금 지하 20층이야. 일단 1층까지만 올라와 보자. 이거 해봐."],
            "adhd": ["머릿속이 복잡할 땐, 그냥 아무 생각 없이 할 수 있는 게 약이야. 이거 한번 해봐.", "정신없지? 이거 딱 3분만 해봐. 그럼 좀 나을... 걸? 아마도.", "시작이 반이라고? 거짓말이야. 시작은 시작일 뿐. 이거라도 시작해봐."],
            "sleep": ["잠 안 올 땐 양 세는 거보다 이게 직빵이야. 한번 해봐.", "이거 하고 나면 잠이 솔솔 올걸? 안 오면... 뭐, 할 수 없고.", "지금 네 뇌를 '취침 모드'로 바꿔줄게. 이 솔루션을 따라 해봐."],
            "positive": ["기분 좋을 때 노 저으라고 했어. 이거 하면서 기분 더 띄워보자!", "지금 이 기분, 박제해야 돼. 이 솔루션이 그걸 도와줄 거야.", "행복? 두 배로 만들어줄게. 이거 한번 해봐. 밑져야 본전이지."]
        }
    },
    "balanced": {
        "home": { "common": ["{user_nick_nm}, 잘 지냈어? 네 마음속 이야기를 들을 준비가 됐어.", "오늘 하루, 네 마음에 어떤 파도가 쳤는지 궁금하다.", "어서 와, {user_nick_nm}. 오늘은 어떤 감정들을 만났어?", "네가 와서 좋다. 편안하게 오늘 하루를 되짚어볼까?", "오늘의 너는 어땠어? 어떤 이야기든 괜찮으니 들려줘."] },
        "reaction": {
            "neg_high": ["마음이 많이 소란스럽구나. 괜찮아, 그럴 수 있어. 무엇이 널 그렇게 힘들게 했어?", "화나는 마음이 드는 건 당연해. 네가 부당한 일을 겪었다는 신호일 수도 있어. 이야기해줘.", "불안하구나. 그 마음, 내가 잠시 맡아줄게. 어떤 걱정 때문인지 말해줄 수 있을까?"],
            "neg_low": ["그랬구나… 네가 충분히 그렇게 느낄 만했어. 어떤 일이 있었는지 말해줄 수 있을까?", "그런 마음이었구나. 얘기해줘서 고마워. 조금 더 들어봐도 될까?", "마음이 지쳤구나. 아무것도 하고 싶지 않을 땐, 안 해도 괜찮아. 그저 네 마음을 알아주는 게 먼저야."],
            "adhd": ["생각이 많아서 어디부터 잡아야 할지 모르겠구나. 괜찮아, 가장 큰 거 하나만 나한테 말해볼까?", "집중이 잘 안돼서 속상했겠다. 그럴 수 있어. 우리 딱 3분만 같이 다른 거 해볼까?", "마음이 자꾸 다른 길로 새는구나. 괜찮아, 내가 같이 손잡고 원래 가려던 길로 데려다줄게."],
            "sleep": ["잠을 잘 못 자서 힘들었겠다. 몸이 보내는 휴식 신호를 마음이 못 알아챌 때가 있어.", "피곤하구나. 쉬어도 쉬는 것 같지 않은 느낌, 뭔지 알아. 왜 그럴까, 같이 생각해보자.", "밤이 되면 생각이 더 많아지지? 그 생각들, 잠시 나한테 맡겨두고 눈 감아볼까?"],
            "positive": ["기분 좋은 일이 있었구나, {user_nick_nm}. 네가 웃으니 나도 기쁘다. 어떤 일이었어?", "마음이 편안해 보여서 다행이다. 그 기분, 충분히 만끽했으면 좋겠어.", "네가 행복해 보여. 그 순간을 기억해두면, 나중에 힘이 될 거야."]
        },
        "analysis": {
            "neg_high": {
                "low": ["[불안/분노가 조금 있어요!]\n마음이 살짝 긴장해 있네. 이유가 뭘까?", "[주의: 스트레스 신호]\n작은 걱정이 네 마음에 파동을 일으키고 있어.", "[상태 분석: 긴장]\n네 몸이 너도 모르게 힘을 주고 있는 것 같아. 잠시 이완해볼까?"],
                "mid": ["[불안/분노 수치가 상승했어요!]\n평소보다 예민해진 것 같아. 스스로를 보호하려는 자연스러운 반응이야.", "[경고: 과부하 상태]\n감정을 담는 그릇이 거의 다 찼어. 조금 비워낼 시간이 필요해.", "[상태 분석: 불안정]\n마음이 살짝 흔들리고 있네. 내가 중심을 잡을 수 있게 도와줄게."],
                "high": ["[불안/분노 점수가 높아요!]\n마음이 많이 놀란 것 같아. 괜찮아, 지금 여긴 안전해.", "[위험: 압도된 상태]\n감정이 너무 커서 네가 작게 느껴질 수 있어. 하지만 넌 그 감정보다 훨씬 커.", "[상태 분석: 위기]\n지금은 해결보다 안정이 먼저야. 같이 차분해지는 시간을 갖자."]
            },
            "neg_low": {
                "low": ["[우울/무기력이 조금 있어요!]\n마음의 에너지가 조금 부족하구나. 작은 것부터 충전해보자.", "[주의: 에너지 저하]\n네 안의 불꽃이 작아진 것 같아. 다시 피울 수 있도록 내가 도와줄게.", "[상태 분석: 침체]\n일상의 색이 조금 옅어진 느낌이구나. 다시 선명하게 만들어보자."],
                "mid": ["[우울/무기력 수치가 상승했어요!]\n많이 지쳤구나. 애써 괜찮은 척하지 않아도 돼. 그 마음, 내가 알아줄게.", "[경고: 번아웃 신호]\n네가 가진 에너지를 너무 많이 써버렸어. 이제는 너를 채워줄 시간이야.", "[상태 분석: 의욕 저하]\n아무것도 하고 싶지 않은 마음, 그럴 수 있어. 그 마음도 존중해 주자."],
                "high": ["[우울/무기력 점수가 높아요!]\n네 마음이 캄캄한 방에 혼자 있는 것 같구나. 내가 작은 촛불이라도 들고 같이 있어 줄게.", "[위험: 고립 상태]\n혼자라고 느껴질 때, 그게 가장 힘든 법이야. 하지만 봐, 내가 여기 있잖아.", "[상태 분석: 심각한 침체]\n괜찮아. 바닥을 쳤다는 건, 이제 올라갈 일만 남았다는 뜻이기도 해. 내가 손잡아 줄게."]
            },
            "adhd": {
                "low": ["[주의 집중이 좀 어려운 상황이네요!]\n생각이 자유롭게 날아다니고 있네. 잠시 쉬게 해주는 건 어때?", "[주의: 약간의 산만함]\n마음이 여러 곳에 가 있구나. 지금, 여기에 잠시 머물러볼까?", "[상태 분석: 생각 분산]\n하나에 집중하기보단, 여러 가능성을 탐색하고 싶은 마음일 수도 있어."],
                "mid": ["[주의 집중력이 저하되었어요!]\n네 마음이 지금 하고 있는 일에 흥미를 잃었나 봐. 왜 그럴까?", "[경고: 과제 수행 어려움]\n시작하는 게 어렵지? 첫걸음을 뗄 수 있도록 내가 도와줄게.", "[상태 분석: 충동성 증가]\n새로운 자극을 원하는 마음이 커졌네. 그 에너지를 어디에 쓰면 좋을까?"],
                "high": ["[주의 집중이 많이 어려운 상황이네요!]\n머릿속이 너무 시끄럽지? 괜찮아, 우리 같이 조용한 방으로 들어가자.", "[위험: 실행 기능 저하]\n해야 할 일들이 너를 압도하고 있구나. 가장 작은 거 하나만 골라볼까?", "[상태 분석: 심한 혼란]\n엉킨 실타래 같네. 괜찮아, 풀 수 있어. 내가 실의 끝을 찾아줄게."]
            },
            "sleep": {
                "low": ["[수면 문제가 있어요!]\n어젯밤, 편안한 쉼을 얻지 못했구나. 오늘 낮에라도 잠시 눈을 붙여봐.", "[주의: 수면 부족 신호]\n몸이 피곤하다고 신호를 보내고 있네. 그 소리에 귀 기울여주자.", "[상태 분석: 얕은 수면]\n몸은 자고 있는데, 마음은 깨어있었나 보다."],
                "mid": ["[수면 불편 점수가 저하되었어요!]\n잠자리에서도 긴장을 놓지 못했구나. 오늘은 푹 잘 수 있도록 준비해보자.", "[경고: 수면 부채]\n네 몸에 '피로'가 쌓이고 있어. 더 쌓이기 전에 덜어내야 해.", "[상태 분석: 불규칙한 수면]\n몸이 언제 쉬어야 할지 헷갈리고 있나 봐. 다시 알려주자."],
                "high": ["[수면 불편 점수가 매우 높아요!]\n잠을 자는 게 일이 되어버린 것 같아 힘들겠다. 쉬는 것까지 애쓸 필요 없어.", "[위험: 불면증 가능성]\n밤이 오는 게 걱정되겠다. 괜찮아, 밤은 너의 적이 아니야.", "[상태 분석: 심각한 수면 장애]\n몸과 마음이 휴식을 거부하고 있는 것 같아. 왜 그런지 같이 알아보자."]
            },
            "positive": {
                "low": ["[마음이 안정되어 있어요!]\n마음이 고요한 호수 같네. 이 평온함을 충분히 느껴봐.", "[상태 분석: 평온]\n네 안의 균형이 잘 잡혀있는 상태야. 보기 좋다.", "[긍정 신호]\n작은 행복들이 네 주위에 떠다니고 있구나."],
                "mid": ["[기분이 좋아 보여요!]\n네 마음이 따뜻한 색으로 물들어 있네. 어떤 좋은 일이 있었어?", "[상태 분석: 활기]\n생기가 도는구나. 이 에너지로 뭘 하고 싶어?", "[긍정 에너지 상승!]\n너의 긍정적인 기운이 나에게도 전해지는 것 같아. 고마워."],
                "high": ["[행복지수가 높아요!]\n네 존재 자체가 빛나는 순간이네. 이 기분을 기억해둬.", "[상태 분석: 충만함]\n마음이 가득 찬 느낌이겠다. 이 행복, 충분히 누려도 괜찮아.", "[최고의 하루!]\n네가 행복하니, 세상이 다 아름다워 보인다. 정말 멋진 날이야."]
            }
        },
        "propose": {
            "neg_high": ["지금 들끓는 감정을 차분하게 가라앉힐 시간이 필요해. 이걸 한번 해볼까?", "괜찮아, 그 감정은 너를 지키기 위한 신호야. 안전한 방법으로 표현할 수 있게 도와줄게.", "마음이 긴장하면 몸도 굳어. 몸을 먼저 이완시켜주면 마음도 따라올 거야."],
            "neg_low": ["움직일 힘이 없을 땐, 마음만 살짝 움직여봐도 괜찮아. 이 솔루션이 도와줄 거야.", "네 안의 작은 불씨를 다시 피울 수 있도록, 내가 부싯돌이 되어줄게. 이걸 한번 해보자.", "괜찮아, 바닥에 주저앉아 있어도 돼. 이건 앉은 자리에서 바로 할 수 있는 거야."],
            "adhd": ["흩어진 생각의 구슬들을 하나로 꿰어보자. 이 솔루션이 실이 되어줄 거야.", "복잡한 머릿속을 잠시 환기시킬 필요가 있어. 창문을 여는 것과 같은 활동이야.", "네 안의 넘치는 에너지를 즐거운 곳에 집중시켜 보자. 이걸 추천할게."],
            "sleep": ["편안한 잠을 위한 준비운동이라고 생각해봐. 몸과 마음을 위한 스트레칭이야.", "오늘 밤, 좋은 꿈을 꿀 수 있도록 내가 도와줄게. 이 활동이 꿈나라로 가는 길이 될 거야.", "하루 동안 쌓인 긴장을 내려놓는 시간이 필요해. 이 솔루션이 도움이 될 거야."],
            "positive": ["지금의 좋은 기분을 더 깊이 음미할 수 있는 방법을 알려줄게. 이걸 한번 해보자.", "행복한 기억은 저장해두면 나중에 꺼내 쓸 수 있어. 이건 너만의 '행복 저장소'를 만드는 방법이야.", "이 좋은 에너지를 더 널리 퍼뜨려보자. 너는 이미 충분히 빛나고 있어."]
        }
    }
}

# 요청에 따라 영어 데이터는 한국어 데이터를 그대로 사용
en_samples = ko_samples

# 최종 삽입용 데이터 리스트 생성 함수
def generate_all_mentions():
    final_data = []
    personalities = ["prob_solver", "warm_heart", "odd_kind", "balanced"]
    clusters = ["neg_high", "neg_low", "adhd", "sleep", "positive"]
    levels = ["low", "mid", "high"]
    
    for lang_code, samples_dict in [("ko", ko_samples), ("en", en_samples)]:
        for p in personalities:
            # Home
            if "home" in samples_dict[p]:
                for text in samples_dict[p]["home"]["common"]:
                    final_data.append({"personality": p, "language_code": lang_code, "mention_type": "home", "cluster": "common", "level": None, "text": text})
            # Reaction, Propose, Analysis
            for m_type in ["reaction", "propose", "analysis"]:
                if m_type in samples_dict[p]:
                    for c in clusters:
                        if c in samples_dict[p][m_type]:
                            if m_type == "analysis":
                                for l in levels:
                                    if l in samples_dict[p][m_type][c]:
                                        for text in samples_dict[p][m_type][c][l]:
                                            final_data.append({"personality": p, "language_code": lang_code, "mention_type": m_type, "cluster": c, "level": l, "text": text})
                            else: # reaction, propose
                                for text in samples_dict[p][m_type][c]:
                                    final_data.append({"personality": p, "language_code": lang_code, "mention_type": m_type, "cluster": c, "level": None, "text": text})
    return final_data

# 데이터 삽입 실행 함수
def insert_data():
    """Supabase에 모든 멘션 데이터를 삽입합니다."""
    mentions_to_insert = generate_all_mentions()
    
    try:
        if not mentions_to_insert:
            print("⚠️ 삽입할 데이터가 없습니다. 샘플 데이터를 확인해주세요.")
            return

        if DELETE_EXISTING_DATA:
            print("🟡 기존 'character_mentions' 테이블의 모든 데이터를 삭제합니다...")
            supabase.table('character_mentions').delete().gt('created_at', '1970-01-01T00:00:00Z').execute()
            print("🗑️ 기존 데이터 삭제 완료.")

        print(f"총 {len(mentions_to_insert)}개의 멘션 데이터를 생성했으며, 이제 삽입을 시작합니다...")
        
        chunk_size = 150
        for i in range(0, len(mentions_to_insert), chunk_size):
            chunk = mentions_to_insert[i:i + chunk_size]
            print(f"  - {i+1}번째부터 {i+len(chunk)}번째 데이터 삽입 중...")
            supabase.table('character_mentions').insert(chunk, returning='minimal').execute()
        
        print(f"✅ 데이터 삽입 성공! 총 {len(mentions_to_insert)}개의 행이 처리되었습니다.")

    except Exception as e:
        print(f"❌ 데이터 삽입 중 오류 발생: {e}")

if __name__ == "__main__":
    print("✨ 샘플 데이터 생성 및 삽입 스크립트 ✨")
    # 아래 함수를 실행하면 Supabase에 데이터가 삽입됩니다.
    # 주의: 실행 전 스크립트 상단의 DELETE_EXISTING_DATA 설정을 확인하세요.
    insert_data()